# NOTE: Disable external display audio - keep internal laptop audio always
# (Bluetooth and 3.5mm jack are unaffected)

monitor.alsa.rules = [
  #
  # 1) Disable discrete GPU HDMI/DP audio
  #
  {
    matches = [
      { device.name = "~alsa_card\\.pci-.*_00\\.1$" }
    ]
    actions = {
      update-props = { device.disabled = true }
    }
  },

  #
  # 2) Disable USB display adapter audio (covers most docks/adapters)
  #
  {
    matches = [
      # DisplayLink docks
      { device.name = "~alsa_card\\.usb-DisplayLink.*" }

      # Silicon Motion adapters (your home setup)
      { device.name = "~alsa_card\\.usb-Silicon_Motion.*" }
      { device.name = "~alsa_card\\.usb-SMI_.*" }

      # Generic USB display adapters
      { device.name = "~alsa_card\\.usb-.*USB_Display.*" }
      { device.name = "~alsa_card\\.usb-.*Dock.*" }

      # Longname fallbacks
      { api.alsa.card.longname = "~.*DisplayLink.*" }
      { api.alsa.card.longname = "~.*Silicon Motion.*" }
      { api.alsa.card.longname = "~.*USB.*Display.*" }
    ]
    actions = {
      update-props = { device.disabled = true }
    }
  }
]
